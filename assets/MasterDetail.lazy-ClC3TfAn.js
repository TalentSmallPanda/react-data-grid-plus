import{c as f,u as y,r as p,j as c,f as a}from"./index-E51Zv1y3.js";import{D as u}from"./DataGrid-DYDWxZ_U.js";import{C as D}from"./CellExpanderFormatter-C0EYq-K7.js";const A=f("/MasterDetail")({component:R});function x(){const t=[];for(let r=1;r<30;r++)t.push({type:"MASTER",id:r,department:a.commerce.department(),expanded:!1});return t}const d=new Map;function h(t){if(d.has(t))return d.get(t);const r=[];for(let o=0;o<20;o++)r.push({id:o,product:a.commerce.productName(),description:a.commerce.productDescription(),price:a.commerce.price()});return d.set(t,r),r}const E=[{key:"id",name:"ID",width:35},{key:"product",name:"Product"},{key:"description",name:"Description"},{key:"price",name:"Price"}];function R(){const t=y(),r=p.useMemo(()=>[{key:"expanded",name:"",minWidth:30,width:30,colSpan(e){return e.type==="ROW"&&e.row.type==="DETAIL"?3:void 0},cellClass(e){return e.type==="DETAIL"?"c8yi49c":void 0},renderCell({row:e,tabIndex:n,onRowChange:i}){return e.type==="DETAIL"?c.jsx(k,{parentId:e.parentId,direction:t}):c.jsx(D,{expanded:e.expanded,tabIndex:n,onCellExpand:()=>{i({...e,expanded:!e.expanded})}})}},{key:"id",name:"ID",width:35},{key:"department",name:"Department"}],[t]),[o,s]=p.useState(x);function l(e,{indexes:n}){const i=e[n[0]];i.type==="MASTER"&&(i.expanded?e.splice(n[0]+1,0,{type:"DETAIL",id:i.id+100,parentId:i.id}):e.splice(n[0]+1,1),s(e))}return c.jsx(u,{rowKeyGetter:m,columns:r,rows:o,onRowsChange:l,headerRowHeight:45,rowHeight:e=>e.type==="DETAIL"?300:45,className:"fill-grid",enableVirtualization:!1,direction:t,onCellKeyDown:(e,n)=>{n.isDefaultPrevented()&&n.preventGridDefault()}})}function k({parentId:t,direction:r}){const o=p.useRef(null),s=h(t);return c.jsx(u,{ref:o,rows:s,columns:E,rowKeyGetter:m,style:{blockSize:250},direction:r})}function m(t){return t.id}export{A as Route};
//# sourceMappingURL=MasterDetail.lazy-ClC3TfAn.js.map
