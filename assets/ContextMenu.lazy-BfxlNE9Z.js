import{c as f,u as w,r as i,j as n,a as R,f as l}from"./index-E51Zv1y3.js";import{D as j}from"./DataGrid-DYDWxZ_U.js";const M=f("/ContextMenu")({component:D}),y="c1e2kvwo";function C(){const c=[];for(let t=1;t<1e3;t++)c.push({id:t,product:l.commerce.productName(),price:l.commerce.price()});return c}const h=[{key:"id",name:"ID"},{key:"product",name:"Product"},{key:"price",name:"Price"}];function k(c){return c.id}function D(){const c=w(),[t,a]=i.useState(C),[p,x]=i.useReducer(e=>e+1,t[t.length-1].id+1),[r,s]=i.useState(null),d=i.useRef(null),u=r!==null;i.useLayoutEffect(()=>{if(!u)return;function e(o){o.target instanceof Node&&d.current?.contains(o.target)||s(null)}return addEventListener("click",e),()=>{removeEventListener("click",e)}},[u]);function m(e){const o={id:p,product:l.commerce.productName(),price:l.commerce.price()};a([...t.slice(0,e),o,...t.slice(e)]),x()}return n.jsxs(n.Fragment,{children:[n.jsx(j,{rowKeyGetter:k,columns:h,rows:t,className:"fill-grid",direction:c,onCellContextMenu:({row:e},o)=>{o.preventGridDefault(),o.preventDefault(),s({rowIdx:t.indexOf(e),top:o.clientY,left:o.clientX})}}),u&&R.createPortal(n.jsxs("menu",{ref:d,className:y,style:{top:r.top,left:r.left},children:[n.jsx("li",{children:n.jsx("button",{type:"button",onClick:()=>{const{rowIdx:e}=r;a([...t.slice(0,e),...t.slice(e+1)]),s(null)},children:"Delete Row"})}),n.jsx("li",{children:n.jsx("button",{type:"button",onClick:()=>{const{rowIdx:e}=r;m(e),s(null)},children:"Insert Row Above"})}),n.jsx("li",{children:n.jsx("button",{type:"button",onClick:()=>{const{rowIdx:e}=r;m(e+1),s(null)},children:"Insert Row Below"})})]}),document.body)]})}export{M as Route};
//# sourceMappingURL=ContextMenu.lazy-BfxlNE9Z.js.map
